<html>
<head>
<title>学習用第２章</title>
</head>
<body>
<script  type="text/javascript">
var s ='foobar';
document.write("Hello World!! <br>");
document.write(s + '<br>');

var arr = [1, 100, 7];
document.write('<br>');
document.write('var arr = [1, 100, 7]aのとき<br>');
document.write('<br>');
document.write(arr[1] + '<br>');
arr[1] = 200;
document.write('arr[1] = 200;を行う<br>');
document.write(arr[1] + '<br>');
document.write('<br>');

document.write('以下の条件の時にどう加算されるか<br>');
document.write('var s1 = \'0123\';  <br>');
document.write('var s2 = \'456\';   <br>');
document.write('s1 = s1+s2;   <br>');
var s1 = '0123';
var s2 = '456';
s1 = s1+s2;

document.write(s1 + '<br>');
document.write('文字の長さを表示<br>');
document.write(s1.length + '<br>');
document.write('<br>');

document.write('String型への変換<br>');
var s3 = 789;
document.write('数値で定義を行う:var s3 = 789;<br>');
document.write('String(s3) でString型にする <br>');
document.write(String(s3) + '<br>');
document.write('<br>');

document.write('数値プロパティの設定<br>');
var s4 = new String('abc');
document.write('var s4 = new String(\'abc\')<br>');
document.write('s4[1]と表示させる <br>');
document.write(s4[1] + '<br>');
document.write('s4と表示させる <br>');
document.write(s4 + '<br>');

document.write('var s5 = new s4.toUpperCase()と入力する<br>');
var s5 = new String(s4.toUpperCase());
document.write(s5 + '<br>');
document.write('大文字が小文字に変換されるはずです<br>');
document.write('<br>');

document.write('数値の計算 <br>');
document.write('n1に"1"、n2に"2"を入れる<br>');
document.write('例<br>');
document.write('var n1 = 1;<br>');
var n1 = 1;
var n2 = 2;
var n3 = n1 + n2;
document.write('加算結果<br>');
document.write(n3 + '<br>');
document.write('<br>');


document.write('小数点の加算<br>');

document.write('0.1+0.2をやってみる<br>');
n1 = 0.1;
n2 = 0.2;
var n3 = n1+n2;
document.write('加算結果:' + n3  + '<br>');
document.write('一致しない答えが得られる<br>');
document.write('1/3もできないらしい<br>');
n1 = 1;
n2 = 3;
n3 = 1/3;
document.write('加算結果:' + n3  + '<br>');
document.write('また一致しない答えが得られる<br>');
document.write('10/3-3もできないらしい<br>');
n1 = 10;
n3 = n1/n2-n2;
document.write('加算結果:' + n3  + '<br>');
document.write('これらは一致しない答えが得られる<br>');
document.write('<br>');

document.write('数値をString型への変換<br>');
var n1 =1;
document.write('var n1 =1;のように数値型で宣言する<br>');
document.write('n1.ToString();で変換する：' + n1.toString() + '<br>');
document.write('<br>');


document.write('ナンバー変数へのコンバート<br>');

var n1 = Number(1);
document.write('var n1 = Number(1);のように使用することが出来る<br>');
document.write('出録結果:' + n1 + '<br>');
document.write('var n1 = Number(\'x\');のようにすると数値型に変換できないため「NaN」返るはずです<br>');
var n1 = Number('x');
document.write('出録結果:' + n1 + '<br>');
document.write('<br>');


document.write('境界値とと数値<br>');
document.write('Number.MAX_VALUE;によりNumberオブジェクトの最大値がわかる<br>');
document.write(Number.MAX_VALUE + '<br>');
document.write('Number.MIN_VALUE;によりNumberオブジェクトの最小値がわかる<br>');
document.write(Number.MIN_VALUE + '<br>');
document.write('負の数の最大値は-Number.MAX_VALUE;によりNumberオブジェクトの最大値がわかる<br>');
document.write(-Number.MAX_VALUE + '<br>');
document.write('負の数の最小値は-Number.MIN_VALUE;によりNumberオブジェクトの最小値がわかる<br>');
document.write(-Number.MIN_VALUE + '<br>');
document.write('Number.MAX_VALUE.toString(16);により16進数のNumberオブジェクトの最大値がわかる<br>');
document.write(Number.MAX_VALUE.toString(16) + '<br>');
document.write('無限大数については最大値、最小値をこのように書く<br>');
document.write('正の無限大「Number.POSITIVE_INFINITY」:' + Number.POSITIVE_INFINITY + '<br>');
document.write('負の無限大「Number.NEGATIVE_INFINITY」:' + Number.NEGATIVE_INFINITY + '<br>');
document.write('NaN「Number.NaN」:' + Number.NaN + '<br>');
document.write('正の無限大に2を割ってもInfinityになる「Number.POSITIVE_INFINITY / 2」:' + Number.POSITIVE_INFINITY  / 2+ '<br>');
document.write('NaNに１を足してもNaNのまま「Number.NaN + 1」:' + (Number.NaN + 1) + '<br>');
document.write('NaNに0でかけてももNaNのまま「Number.NaN * 0」:' + Number.NaN * 1 + '<br>');
document.write('NaN - NaN = NaN 「Number.NaN  - NaN」:' + (Number.NaN - NaN) + '<br>');
document.write('var nanobj = new Number(Nan);のようにオブジェクトを作成する<br>');
var nanobj = new Number(NaN);
document.write('isNaN(nanobj);にするとTrueが返るはず: ' + isNaN(nanobj) + '<br>');
document.write('数値に型変換するとNaNになる「isNaN({})」<br>');
document.write('結果:'+ isNaN({}) + '<br>');
document.write('有限数判定をisNaNと同様のグローバル変数であるisFinite(1)のようにして判定することが出来る<br>');
document.write('例:「isFinite(1)」でやるとtrueが返るはず:' + isFinite(1) + '<br>');
document.write('例:「isFinite(NaN)」でやるとfalseが返るはず:' + isFinite(NaN) + '<br>');
document.write('例:「isFinite(Infinity)」でやるとfalseが返るはず:' + isFinite(Infinity) + '<br>');
document.write('例:「isFinite(-Infinity)」でやるとfalseが返るはず:' + isFinite(-Infinity) + '<br>');
document.write('<br>');


document.write('ブーリアン型<br>');
document.write('どの言語でも共通的ですが、このように使います<br>');
document.write('var flag = trueと書く<br>');
var flag = true;
document.write('結果:' + flag + '<br>');
document.write('型を確認「typeof flag」:' + typeof flag + '<br>');
document.write('var flag = trueと書く<br>');
var flag = false;
document.write('結果:' + flag + '<br>');
document.write('型を確認「typeof flag」:' + typeof flag + '<br>');
document.write('型変換を行うとこうなる<br>');
document.write('「flag.toString()」: ' + flag.toString() + '<br>');
document.write('型を見る「typeof flag.toString()」: ' + typeof flag.toString() + '<br>');
document.write('コンストラクタの呼び出しも「var tval = new Boolean(true)のようシて関数呼び出しで明示的な型変換を行う<br>');
var tval = new Boolean(true);
document.write('結果:' + tval + ' :タイプ: '+ typeof tval + '<br>');
document.write('<br>');

document.write('undefined型<br>');
document.write('typeof undefinedとしてもundefinedと返ってくる: '+ typeof undefined + '<br>');
document.write('undefined = \'abc\'とするとundefinedという名前のグローバル変数に値を入れるという意味合いになる<br>');
undefined = 'abc';
document.write('結果：' + undefined + '<br>');
document.write('typeofの結果：' + typeof undefined + '<br>');
document.write('宣言しただけの変数はundefinedになる<br>');
var u;
document.write('var uとする<br>');
document.write('typeofの結果：'  + typeof u + '<br>');
document.write('<br>');

document.write('オブジェクト型について<br>');
document.write('var obj = {};のように空のオブジェクトを作ります');
var obj = {};
document.write('typeofで見てみる：' + typeof obj + ' <br>');

document.write('ブーリアン型への型変換<br>');

document.write('このようにif文を書く「if(0) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(0) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');
document.write('!!を使った暗黙の型変換もイディオムとして定義されている<br>');
document.write('例:<br>');
document.write('!!1:' + !!1 + ' <br>');
document.write('!!\'x\':' + !!'x' + ' <br>');
document.write('!!\'t\':' + !!'t' + ' <br>');
document.write('!!\'f\':' + !!'f' + ' <br>');
document.write('!!\'\':' + !!'' + ' <br>');
document.write('!!null:' + !!null + ' <br>');
document.write('注意！：オブジェクト型のfalseで判定させるとならずtrueになってしまう<br>');
document.write('var b = new Boolean(false);のように宣言する<br>');
var b = new Boolean(false);
document.write('このようにif文を書く「if(b) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(b) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');

document.write('var b = new Number(0);のように宣言する<br>');
var b = new Number(0);
document.write('このようにif文を書く「if(b) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(b) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');

document.write('var b = new String(\'\');のように宣言する<br>');
var b = new String('');
document.write('このようにif文を書く「if(b) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(b) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');

document.write('その為オブジェクト型以外で宣言する必要がある<br>');
document.write('<br>');
document.write('var b = Boolean(false);のように宣言する<br>');
var b = Boolean(false);
document.write('このようにif文を書く「if(b) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(b) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');

document.write('var b = Number(0);のように宣言する<br>');
var b = Number(0);
document.write('このようにif文を書く「if(b) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(b) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');

document.write('var b = String(\'\');のように宣言する<br>');
var b = String('');
document.write('このようにif文を書く「if(b) { document.write(\'T\'); } else { document.write(\'F\'); }」<br>');
document.write('結果：');
if(b) { document.write('T<br>'); } else { document.write('F<br>'); }
document.write('<br>');

document.write('オブジェクト型からの型変換<br>');
document.write('var obj = {}; 空のオブジェクト<br>');
var obj = {}; //空のオブジェクト
obj = ''; //文字型へ暗黙の文字変換（文字列連結演算子)
document.write('obj = \'\'; 文字型へ暗黙の文字変換（文字列連結演算子).型を確認:' + ( typeof obj) + '<br>');
document.write('現在の中身を確認：' + obj.toString() + '<br>');
var obj = {}; //空のオブジェクト

obj.toString = function() { return 'Myobj'; } //tostringメソッドの実数を書き換える
document.write(obj.toString() + '1<br>');

obj = ''; //文字列型へ暗黙変換
document.write(String(obj) + '2<br>');  //文字列型へ暗黙変換
document.write('<br>');

document.write('変数宣言分<br>');
document.write('var hoge,hoge2のように宣言することが可能です<br>');
document.write('var hoge = \'abc\',hoge2 = \'def\'のように宣言することも可能です<br>');
document.write('<br>');

document.write('関数宣言文について<br>');
document.write('冒頭でも出てきたが、関数宣言を行う場合にfunctionを用いる<br>');

document.write('例：<br>');
document.write('functon 関数名(引数,引数){<br>');
document.write('   文<br>');
document.write('   文<br>');
document.write('}<br>');
document.write('あえて引数を書いたが、引数はなくてもいい<br>');
document.write('<br>');

document.write('Swich文<br>');
document.write('どの言語でもそうだがこのように書く<br>');

document.write('var s = \'foo\'');

document.write('switch(s) { <br>');
document.write('	case 0: <br>');
document.write('	     document.write(\'not here<br>\'); <br>');
document.write('	     break; <br>');
document.write('	case 1: <br>');
document.write('	     document.write(\'not here<br>\'); <br>');
document.write('	     break; <br>');
document.write('	case s.length: <br>');
document.write('	     document.write(\'not here<br>\'); <br>');
document.write('	     break; <br>');
document.write('	case \'f\' + \'o\' + \'o\': <br>');
document.write('	     document.write(\'here<br>\'); <br>');
document.write('	     break; <br>');
document.write('	default: <br>');
document.write('	     document.write(\'not here<br>\'); <br>');
document.write('	     break; <br>');
document.write('} <br>');

var s = 'foo';

switch(s) {
	case 0:
	     document.write('not here<br>');
	     break;
	case 1:
	     document.write('not here<br>');
	     break;
	case s.length:
	     document.write('not here<br>');
	     break;
	case 'f' + 'o' + 'o':
	     document.write('here<br>');
	     break;
	default:
	     document.write('not here<br>');
	     break;
}
document.write('<br>');

document.write('While文<br>');
document.write('While文はこのように書きます<br>');
document.write('基本的な文法は同じです<br>');
document.write('var i =0;');
document.write('while(i <5){');
document.write('	document.write(\'出力結果：\' + i + \'<br>\');');
document.write('	i++;');
document.write('}');
document.write('<br>実行結果<br>');
var i =0;
while(i <5){
	document.write('出力結果：' + i + '<br>');
	i++;
}
document.write('do-while文はこのように書きます<br>');
document.write('do {<br>');
document.write('	document.write(\'出力結果：\' + i + \');<br>');
document.write('	i++;<br>');
document.write('}while (i <5);<br>');

document.write('<br>実行結果<br>');

i = 0;
do {
	document.write('出力結果：' + i + '<br>');
	i++;
}while (i <5);

document.write('for文のイディオム<br>');

for(var i = 0;i <10 ;i++) {
	document.write('実行結果：' + i + '<br>');
}
document.write('<br>');
document.write('for in文<br>');

document.write('inの左辺には代入先に使える式を書きます<br>');
document.write('例:for(変数 in オブジェクト式)<br>');

document.write('var obj = {x:1, y:3, z:2};<br>');
document.write('for(var k in obj)<br>');
document.write('{<br>');
document.write('	document.write(\'結果：\' + k);<br>');
document.write('}<br>');

var obj = {x:1, y:3, z:2};
for(var k in obj)
{
	document.write('結果：' + k + '<br>');
}

document.write('<br>');
document.write('プロパティ値を表示させる<br>');
document.write('<br>');
document.write('var obj = {x:1, y:3, z:2};<br>');
document.write('for(var k in obj)<br>');
document.write('{<br>');
document.write('	document.write(\'結果：\' + obj[k]);<br>');
document.write('}<br>');

var obj = {x:1, y:3, z:2};
for(var k in obj)
{
	document.write('結果：' + obj[k] + '<br>');
}

//document.write('<br>');
//document.write('for each in 文<br>');
//document.write('for each in文ではECMAScriptには存在しないJava Script限定の独自拡張子です。<br>');
//document.write('for each in 文は次の構文です。変数とオブジェクト式の説明はfor inと同じです。<br>');
//document.write('<br>');
//document.write('例：for each (変数 in オブジェクト式)<br>');
//document.write('<br>');
//
//var obj = {x:1, y:3, z:2};
//for each (var v in obj) {
////	document.write('結果：' + v + '<br>');
//}

document.write('<br>');

document.write('continue文<br>');
document.write('書き方はこのようになる<br>');
document.write(' for(var i = 0; i < 10; i++)');
document.write(' {');
document.write(' 	if( i % 2 !=0)');
document.write(' 	{');
document.write(' 		continue;');
document.write(' 	}');
document.write(' 	document.write(\'結果：\' + i);<br>');
document.write(' }<br>');


for(var i = 0; i < 10; i++)
{
	if( i % 2 !=0)
	{
		continue;
	}
	document.write('結果：' + i + '<br>');
}
document.write('<br>');
document.write('例外について<br>');
document.write('JavaScriptでは式を任意の型に使用できます。C#でいうException型などにする必要はありません<br>');
document.write('例外を補足する側はtry-catch-finally構成を使います。cath節とfinally節の両方の省略はできません。片方だけの省略は可能です<br>');
document.write('<br>');

document.write(' try {<br>');
document.write(' 文<br>');
document.write(' } catch (変数名) {<br>');
document.write(' 文<br>');
document.write(' } finally {<br>');
document.write(' 文<br>');
document.write(' }<br>');

document.write('例としてこのように書く：<br>');
document.write('try {<br>');
document.write('	document.write(\'1<br>\');<br>');
document.write('	null.x;<br>');
document.write('	document.write(\'not here<br>\');<br>');
document.write('}catch (e) {<br>');
document.write('	document.write(\'2<br>\');<br>');
document.write('} finally {<br>');
document.write('	document.write(\'3<br>\');<br>');
document.write('}<br>');

try {
	document.write('1<br>');
	null.x;
	document.write('not here<br>');
}catch (e) {
	document.write('2<br>');
} finally {
	document.write('3<br>');
}
document.write('<br>');

document.write('演算子の優先順序と、結合規則<br>');
document.write('計算される順番は、＊が先、＋が先などは同じである<br>');
document.write('1+2+3のときは(1+2)+3として扱われる.:' + (1+2+3) +  '<br>');
document.write('又このような書き家であれば代入演算子が右結合であることを意味している<br>');
document.write('x = y = z = 0;はx = (y = (z =0))となる<br>');
document.write('<br>');

document.write('比較演算子<br>');
document.write('オペランドの方が異なる場合は次の動作をする<br>');
document.write('* 片方が数値、もう片方が数値に変換可能な場合、数値に型変換して数値の大小比較<br>');
document.write('* オぺランドのどちらかがNaNであればfalse<br>');
document.write('* 片方が文字列値、もう片方が文字列値に変換可能な場合、文字列に型変換して文字列値の大小を比較<br>');
document.write('* オペランドのどちらが数値もしくは文字列値に変換できない、あるいはNaNに変換された場合、演算の結果はfalse<br>');

document.write('<br>');
document.write('オペランドの両方が文字列型であれば文字列として大小比較しますが、片方が文字列以外であれば数値への型変換をします。<br>');
document.write('\'100\' > \'99\'の結果はこうなる：' + ('100' > '99' )+ '<br>');
document.write('しかしこの要な場合はTRUEになる「\'100\' > 99」:' + ('100' > 99) + '<br>');
document.write('nullとの比較もtrueとなってしまう<br>');
document.write('true > 0の結果' + ( true > 0) + '<br>');
document.write('null < 1の結果' + (null <1 ) + '<br>');
document.write('null > 1の結果' + (null >1 ) + '<br>');

document.write('<br>');

document.write('void演算子<br>');
document.write('voidは単項のundefined演算子です。<br>オペランドに何を渡しても演算結果はunderfined値になります。<br>');
document.write('void 0としたとき：' + void 0 + '<br>');
document.write('void \'x\'としたとき：' + void 'x' + '<br>');

document.write('var x = 0;<br>');
document.write('void x++;<br>');
var x = 0;
void x++;
document.write('結果：' + (x) + '<br>');
document.write('(x)のようにカッコで囲むのはよく行われる<br>');
document.write('カンマ(,)演算時<br>');
document.write('<br>');
document.write('オブジェクトのプロパティと変数が似ている印象を抱くことがあると思います<br>');
document.write('どちらもname（変数名やプロパティ名）を書くと値を得られます。<br>');
document.write('どちらも代入式の左辺に書くと代入先になります。<br>');
document.write('実は、JavaScriptの変数はプロパティそのものです。似ているのではなく両者は同じものである.<br>');
document.write('　変数はスコープの違いで<b>グローバル変数とローカル変数</b>（パラメータ変数を含む）の2種類に分けられます。<br>');
document.write('グローバル変数はトップレベルコードで宣言する変数です。<br>トップレベルコードとは関数の外に書いたコードです。ローカル変数は関数内で宣言する変数です<br>');
document.write('グローバル変数とローカル変数の両者とも実態はプロパティです<br>');
document.write('　グローバル変数（及びグローバル変数名）はグローバルオブジェクトのプロパティです。グローバルオブジェクトは実行時に最初から存在するオブジェクトです。<br>');

document.write(' var x = \'foo\';<br>');
document.write(' document.write(\'グローバル変数:\'+ this.x);<br>');
document.write(' function fn() {}<br>');

var x = 'foo';
document.write('グローバル変数:'+ this.x + '<br>');
function fn() {}
document.write('\'fn\' in this;の結果：' + ('fn' in this) + '<br>');


document.write('　トップレベルのコードのthis参照はグローバルオブジェクトを参照します。このため上記コードのthis.xはグローバルオブジェクトのプロパティｘを意味します<br>');
document.write('そしてこれはグローバル変数ｘそのものです。<br>');
document.write('　次のようにトップレベルコードでグローバル変数glovalにthis参照の値を代入すると、変数はグローバルオブジェクトのプロパティであると同時にグローバルオブジェクトの参照を持つ自己参照的な関係になります<br>');
var global = this;
document.write('\'global\' in this;の結果:' + ('global' in this) + '<br>');


document.write('<br>');
document.write('<p>型判定（ダックタイピング</p>');
document.write('　クラスと（インスタンス）オブジェクトという静的な関係であればinstanceof演算によるオブジェクトの型判定で話は終わります。<br>');
document.write('しかし、JavaScriptのオブジェクト世界はもっと動的な世界です。');
document.write('例えば、次のようにオブジェクト生成後に新たなプロパティを追加することや、コンストラクタと無関係にオブジェクトを構築していくのは日常茶番です。');

document.write('<br>');
var obj = {};	//空のオブジェクト生成
obj.doit = function() { document.write('doit');} //プロパティ

//コンストラクタ無しでオブジェクト生成
var obj = { doit: function() { document.write('doit'); } }




















</script>
</body>
</html>
